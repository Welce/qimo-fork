<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>职业教育 | Qimo</title>
</head>

<body>
    <noscript>需要启用 JavaScript 才能加载页面。</noscript>
    <script type="module">
        const TEMPLATE_URL = './template.html';
        const CONTENT_URL = './ve.content.html';

        async function fetchText(url) {
            const res = await fetch(url, { cache: 'no-store' });
            if (!res.ok) throw new Error('Failed to fetch ' + url + ': ' + res.status);
            return await res.text();
        }

        async function main() {
            const [tpl, content] = await Promise.all([fetchText(TEMPLATE_URL), fetchText(CONTENT_URL)]);

            let out = tpl;
            if (out.includes('<!-- CONTENT -->')) {
                out = out.replace('<!-- CONTENT -->', content);
            } else {
                throw new Error('Template placeholder not found');
            }

            document.open();
            document.write(out);
            document.close();
        }

        main().catch((err) => {
            console.error(err);
            document.body.innerHTML = '<pre style="white-space:pre-wrap;">加载失败：' + String(err) + '</pre>';
        });
    </script>
</body>


</html>
